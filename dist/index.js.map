{"version":3,"file":"index.js","sources":["../src/components/ontology-term-annotation.ce.vue","../src/components/ontology-text-annotation.ce.vue","../src/components/ontology-autocomplete.ce.vue","../src/components/ontology-annotate.ce.vue","../src/components/ontology-compose.ce.vue","../src/OntologyElements.js"],"sourcesContent":["<script lang=\"ts\" setup>\nimport { computed } from 'vue'\n\nconst props = defineProps<{\n  annotation?: string\n}>()\n\nconst term = computed(() => {\n  return props.annotation ? props.annotation.split('\\t')[0] : ''\n})\nconst iri = computed(() => {\n  return props.annotation ? props.annotation.split('\\t')[2] : ''\n})\nconst source = computed(() => {\n  return props.annotation ? props.annotation.split('\\t')[1] : ''\n})\n</script>\n<template>\n  <a v-if=\"annotation && annotation != ''\" :href=\"iri\" target=\"_blank\">\n    {{ source }}: {{ term }}\n  </a>\n</template>\n","<script lang=\"ts\" setup>\nimport { computed } from 'vue'\n\nconst props = defineProps<{\n  annotation?: string\n}>()\n\nconst content = computed(() => {\n  return props.annotation ? props.annotation.split('$$$$')[0] : ''\n})\n\nconst contentHTML = computed(() => {\n  let _content = `${content.value}`\n  let annotatedTerms = props.annotation\n    ? props.annotation\n        .split('$$$$')[1]\n        .split(/\\r?\\n/)\n        .filter((n) => n)\n    : []\n  let terms: any[] = []\n  annotatedTerms.forEach((annotation) => {\n    let annotationDetails = annotation.split('\\t')\n    let indexes = annotationDetails[1].split(' ')\n    let _term: any = {}\n    _term['value'] = _content.substring(parseInt(indexes[1]), parseInt(indexes[2]))\n    _term['class'] = annotationDetails[0]\n    _term['ontology'] = indexes[0]\n    _term['ontology_term'] = annotationDetails[2]\n    _term['iri'] = annotationDetails[3]\n    terms.push(_term)\n  })\n  terms.forEach((term) => {\n    _content = _content.replace(\n      term.value,\n      '<span class=\"o_term\"><a target=\"_blank\" href=' + term.iri + '>' + term.value + '</a></span>'\n    )\n  })\n  return _content\n})\n</script>\n<template>\n  <div v-html=\"contentHTML\"></div>\n</template>\n<style scoped>\n.o_term {\n  background-color: #cdcdcd;\n  border-radius: 4px;\n  padding: 1px 3px;\n}\n</style>\n","<template>\n  <div class=\"auto-search-wrapper\">\n    <label v-if=\"label\">{{ label }}</label>\n    <input\n      type=\"text\"\n      id=\"search\"\n      v-model=\"searchTerm\"\n      @input.stop=\"getSelectOptions\"\n      :placeholder=\"placeholder\"\n      :class=\"styling\"\n      autocomplete=\"off\"\n    />\n    <p v-if=\"info && matches.length == 0\">{{ info }}</p>\n    <div v-else class=\"auto-results-wrapper auto-is-active\">\n      <ul tabindex=\"0\" role=\"listbox\">\n        <li\n          v-for=\"doc in matches\"\n          :key=\"doc['short_label']\"\n          role=\"option\"\n          tabindex=\"-1\"\n          aria-selected=\"false\"\n          aria-setsize=\"3\"\n          aria-posinset=\"0\"\n          @click=\"selectTerm(doc)\"\n        >\n          <p v-html=\"highlight(doc['label'])\"></p>\n          <p><small v-html=\"concat(doc['description'])\"></small></p>\n          <small>{{ doc['ontology_prefix'] }}:{{ doc['iri'] }}</small>\n        </li>\n      </ul>\n    </div>\n    <button\n      v-if=\"searchTerm != '' && matches.length > 0\"\n      type=\"button\"\n      aria-label=\"clear the search query\"\n    ></button>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { ref, computed, watch, onMounted } from 'vue'\n\nconst emit = defineEmits(['change'])\n\nconst props = defineProps({\n  label: {\n    type: String,\n    required: false,\n    default: ''\n  },\n  info: {\n    type: String,\n    required: false,\n    default: ''\n  },\n  placeholder: {\n    type: String,\n    required: false,\n    default: ''\n  },\n  ontologies: {\n    type: String,\n    required: false,\n    default: ''\n  },\n  value: {\n    type: String,\n    required: false,\n    default: ''\n  },\n  styling: {\n    type: String,\n    required: false,\n    default: ''\n  },\n  format: {\n    type: String,\n    required: false,\n    default: 'text'\n  }\n})\n\nconst selectTerm = (term: any) => {\n  if(term == \"\"){\n    selectedTerm.value = null\n    searchTerm.value = \"\"\n  }else{\n    selectedTerm.value = term\n    searchTerm.value = term.label\n    emit('change', selectedValue.value)\n    matches.value = []\n  }\n}\n\nlet searchTerm = ref('')\nlet matches = ref([])\nlet selectedTerm = ref(null)\n\nconst selectedValue = computed(() => {\n  if (!selectedTerm.value) {\n    return null\n  }\n  if (props.format && props.format == 'json') {\n    return selectedTerm.value\n  } else {\n    return selectedTerm.value\n      ? selectedTerm.value['label'] +\n          '\\t' +\n          selectedTerm.value['ontology_prefix'] +\n          '\\t' +\n          selectedTerm.value['iri'] +\n          '\\t' +\n          selectedTerm.value['type']\n      : ''\n  }\n})\n\nwatch(\n  () => props.value,\n  (newValue, oldValue) => {\n    selectTerm(composeOntologyObject(newValue))\n  }\n)\n\nonMounted(() => {\n  if (props.value != '') {\n    selectTerm(composeOntologyObject(props.value))\n  }\n})\n\nasync function getSelectOptions() {\n  if (searchTerm.value === '') {\n    matches.value = []\n    return []\n  }\n  let ontologiesExists = searchTerm.value.indexOf(':')\n  let ontologies = ''\n  let term = null\n  if (ontologiesExists < 0) {\n    ontologies = props.ontologies\n    term = searchTerm.value\n  } else {\n    term = searchTerm.value.split(':')[1]\n    ontologies = searchTerm.value.split(':')[0]\n  }\n\n  const url = 'https://service.tib.eu/ts4tib/api/select?q='\n  const queries = encodeURI(\n    '&ontology=' +\n      ontologies +\n      '&fieldList=iri,label,short_form,obo_id,ontology_name,ontology_prefix,description,type&obsoletes=false&local=false&rows=10'\n  )\n\n  let response = (await fetch(`${url}${term}${queries}`)).json()\n  response.then((body) => {\n    matches.value = body.response.docs\n  })\n}\n\nfunction highlight(content: string) {\n  if (!searchTerm.value) {\n    return content\n  }\n  return content.replace(new RegExp(searchTerm.value, 'gi'), (match) => {\n    return '<span class=\"highlightText\">' + match + '</span>'\n  })\n}\n\nfunction composeOntologyObject(content: string) {\n  if (!content || content == '') {\n    return \"\"\n  }\n  const data = content.split('\\t')\n  let _ontologyObject = {\n    label: data[0],\n    iri: data[2],\n    ontology_prefix: data[1],\n    type: data[3]\n  }\n  return _ontologyObject\n}\n\nfunction concat(data: Array<[]>) {\n  return data ? data.join('') : ''\n}\n</script>\n\n<style scoped>\n:root {\n  --close-button: url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath d='M18.984 6.422 13.406 12l5.578 5.578-1.406 1.406L12 13.406l-5.578 5.578-1.406-1.406L10.594 12 5.016 6.422l1.406-1.406L12 10.594l5.578-5.578z'/%3E%3C/svg%3E\");\n  --loupe-icon: url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%23929292' d='M16.041 15.856a.995.995 0 0 0-.186.186A6.97 6.97 0 0 1 11 18c-1.933 0-3.682-.782-4.95-2.05S4 12.933 4 11s.782-3.682 2.05-4.95S9.067 4 11 4s3.682.782 4.95 2.05S18 9.067 18 11a6.971 6.971 0 0 1-1.959 4.856zm5.666 4.437-3.675-3.675A8.967 8.967 0 0 0 20 11c0-2.485-1.008-4.736-2.636-6.364S13.485 2 11 2 6.264 3.008 4.636 4.636 2 8.515 2 11s1.008 4.736 2.636 6.364S8.515 20 11 20a8.967 8.967 0 0 0 5.618-1.968l3.675 3.675a.999.999 0 1 0 1.414-1.414z'/%3E%3C/svg%3E\");\n}\n\n.auto-search-wrapper {\n  display: block;\n  position: relative;\n  width: 100%;\n}\n\n.auto-search-wrapper p {\n  margin: 0;\n  padding: 0;\n  font-size: 1.1em;\n}\n\n.auto-search-wrapper p .highlightText {\n  font-weight: bold;\n}\n\n.auto-search-wrapper input {\n  border: 1px solid #d7d7d7;\n  box-shadow: none;\n  box-sizing: border-box;\n  font-size: 16px;\n  padding: 12px 45px 12px 10px;\n  width: 100%;\n}\n\n.auto-search-wrapper input:focus {\n  border: 1px solid #858585;\n  outline: none;\n}\n\n.auto-search-wrapper input::-ms-clear {\n  display: none;\n}\n\n.auto-search-wrapper ul {\n  list-style: none;\n  margin: 0;\n  overflow: auto;\n  padding: 0;\n}\n\n.auto-search-wrapper ul li {\n  cursor: pointer;\n  margin: 0;\n  overflow: hidden;\n  padding: 10px;\n  position: relative;\n  border: 1px dotted #f1f1f2;\n}\n\n.auto-search-wrapper ul li:hover {\n  background-color: #f1f1f2;\n}\n\n.auto-search-wrapper ul li:not(:last-child) {\n  border-top: none;\n}\n\n.auto-search-wrapper ul li[disabled] {\n  background: #ececec;\n  opacity: 0.5;\n  pointer-events: none;\n}\n\n.auto-search-wrapper .auto-expanded {\n  border: 1px solid #858585;\n  outline: none;\n}\n\n.auto-search-wrapper.loupe:before {\n  filter: invert(60%);\n}\n\n.auto-is-loading:after {\n  animation: auto-spinner 0.6s linear infinite;\n  border-color: #d9d9d9 grey grey #d9d9d9;\n  border-radius: 50%;\n  border-style: solid;\n  border-width: 2px;\n  bottom: 0;\n  box-sizing: border-box;\n  content: '';\n  height: 20px;\n  margin: auto;\n  position: absolute;\n  right: 10px;\n  top: 0;\n  width: 20px;\n}\n\n.auto-is-loading .auto-clear {\n  display: none;\n}\n\n@keyframes auto-spinner {\n  to {\n    transform: rotate(1turn);\n  }\n}\n\nli.loupe:before {\n  bottom: auto;\n  top: 15px;\n}\n\n.loupe input {\n  padding: 12px 45px 12px 35px;\n}\n\n.loupe:before {\n  background-image: var(--loupe-icon);\n  bottom: 0;\n  content: '';\n  height: 17px;\n  left: 10px;\n  margin: auto;\n  position: absolute;\n  top: 0;\n  width: 17px;\n}\n\n.auto-selected:before {\n  opacity: 1;\n}\n\n.auto-clear {\n  align-items: center;\n  background-color: transparent;\n  border: none;\n  bottom: 0;\n  cursor: pointer;\n  display: flex;\n  height: auto;\n  justify-content: center;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  width: 40px;\n}\n\n.auto-clear:before {\n  content: var(--close-button);\n  height: 24px;\n  line-height: 100%;\n  width: 24px;\n}\n\n.auto-clear span {\n  display: none;\n}\n\n.auto-results-wrapper {\n  background-color: #fff;\n  border: 1px solid #858585;\n  border-top: none;\n  box-sizing: border-box;\n  display: none;\n  overflow: hidden;\n}\n\n.auto-results-wrapper ul > .loupe {\n  padding-left: 40px;\n}\n\n.auto-results-wrapper.auto-is-active {\n  display: block;\n  margin-top: -1px;\n  position: absolute;\n  width: 100%;\n  z-index: 99999;\n}\n\n.auto-selected {\n  background-color: #e6e6e6;\n}\n\n.auto-selected + li:before {\n  border-top: none;\n}\n\n.auto-error {\n  border: 1px solid #ff3838;\n}\n\n.auto-error::placeholder {\n  color: #f66;\n  opacity: 1;\n}\n\n.hidden {\n  display: none;\n}\n</style>\n","<template>\n  <div :id=\"'o_annotate_wrapper_' + reference\" class=\"o_annotate_wrapper\">\n    <label class=\"o_annotate_label\" v-if=\"label\">{{ label }}</label>\n    <div v-if=\"!hasShadowDOM\">\n      <div\n        @mouseup=\"checkSelection\"\n        @keyup=\"checkSelection\"\n        @input=\"onInput\"\n        class=\"o_annotate_textarea\"\n        ref=\"o_annotate_div\"\n        contenteditable=\"true\"\n      >\n        {{ content }}\n      </div>\n    </div>\n    <div v-else>\n      <textarea\n        ref=\"o_annotate_textarea\"\n        @mouseup=\"checkSelection\"\n        @keyup=\"checkSelection\"\n        @input=\"onInput\"\n        class=\"o_annotate_textarea\"\n        >{{ content }}</textarea\n      >\n    </div>\n    <div v-if=\"searchTerm != ''\" class=\"contextmenu\" :style=\"context_menu_styling\">\n      <div class=\"contextmenu_item\" v-if=\"matches.length == 0 && !loading\">No matches found</div>\n      <div v-else>\n        <div\n          class=\"contextmenu_item\"\n          v-for=\"doc in matches\"\n          :key=\"doc['short_label']\"\n          role=\"option\"\n          tabindex=\"_1\"\n          aria_selected=\"false\"\n          aria_setsize=\"3\"\n          aria_posinset=\"0\"\n          @click.capture.stop.prevent=\"selectTerm(doc)\"\n        >\n          <p v-html=\"doc['label']\"></p>\n          <small>{{ doc['ontology_prefix'] }}:{{ doc['short_form'] }}</small>\n        </div>\n      </div>\n    </div>\n    <div>\n      <div v-if=\"loading\" style=\"float: right\">\n        <i>...loading</i>\n      </div>\n      <div>\n        <span v-if=\"info\">{{ info }}</span>\n      </div>\n    </div>\n  </div>\n</template>\n<script lang=\"ts\" setup>\nimport { ref, computed, reactive, onMounted, type HtmlHTMLAttributes } from 'vue'\n\nconst reference = (Math.random() + 1).toString(36).substring(7)\nconst o_annotate_textarea = ref<HTMLTextAreaElement | null>(null)\nconst hasShadowDOM = ref(false)\nconst emit = defineEmits(['change'])\nlet content = ref('')\nlet cords: any = ref({ x: -1000, y: 0, start: -1, end: -1 })\nlet searchTerm = ref('')\nlet loading = ref(false)\nlet matches = ref([])\ntype OntologyType = {\n  ontology: any\n  context: any\n}\nlet selectedTerms: Array<OntologyType> = reactive([])\nconst pendingRequests = new WeakMap()\nconst props = defineProps({\n  label: {\n    type: String,\n    required: false,\n    default: ''\n  },\n  info: {\n    type: String,\n    required: false,\n    default: ''\n  },\n  placeholder: {\n    type: String,\n    required: false,\n    default: ''\n  },\n  ontologies: {\n    type: String,\n    required: false,\n    default: ''\n  },\n  format: {\n    type: String,\n    required: false,\n    default: 'text'\n  }\n})\n\nconst context_menu_styling = computed(() => {\n  return 'left:' + cords.value.x + 'px; top:' + cords.value.y + 'px'\n})\n\nconst bratOnto = computed(() => {\n  let _content = hasShadowDOM ? o_annotate_textarea.value?.value : content.value\n  if (!_content) {\n    return null\n  }\n  if (props.format && props.format == 'json') {\n    return {\n      text: _content,\n      ontology: selectedTerms\n    }\n  } else {\n    return (\n      _content +\n      '\\n$$$$\\n' +\n      selectedTerms\n        .map(\n          (t) =>\n            t.ontology['type'][0] +\n            '\\t' +\n            t.ontology['ontology_prefix'] +\n            ' ' +\n            t.context['start'] +\n            ' ' +\n            t.context['end'] +\n            '\\t' +\n            t.ontology['label'] +\n            '\\t' +\n            t.ontology['iri']\n        )\n        .join('\\n')\n    )\n  }\n})\n\nonMounted(() => {\n  var el = document.getElementsByTagName('ontology-annotate')[0]\n  if (!!el?.shadowRoot) {\n    hasShadowDOM.value = true\n  }\n})\n\nfunction onInput(e: any) {\n  content.value = e.target.innerText\n  emit('change', bratOnto.value)\n}\n\nfunction selectTerm(doc: any) {\n  let data = {\n    ontology: {},\n    context: {}\n  }\n  if (!hasShadowDOM) {\n    data = { ontology: doc, context: cords.value }\n  } else {\n    if (o_annotate_textarea) {\n      let _cords = {\n        x: 0,\n        y: 0,\n        start: o_annotate_textarea.value?.selectionStart,\n        end: o_annotate_textarea.value?.selectionEnd\n      }\n      data = { ontology: doc, context: _cords }\n    }\n  }\n  selectedTerms.push(data)\n  matches.value = []\n  searchTerm.value = ''\n  emit('change', bratOnto.value)\n}\n\nfunction checkSelection(e: any) {\n  searchTerm.value = ''\n  if (window.getSelection) {\n    var selection = window.getSelection()\n    searchTerm.value = selection?.toString()!\n    if (searchTerm.value && searchTerm.value != '') {\n      matches.value = []\n      getSelectionCoords(selection)\n      getSelectOptions(e)\n    } else {\n      cords.value = { x: -1000, y: 0, start: -1, end: -1 }\n      matches.value = []\n    }\n  }\n}\n\nfunction getSelectionCoords(sel: any, atStart: boolean = true) {\n  if (!sel?.rangeCount) return null\n  let range = sel.getRangeAt(0).cloneRange()\n  if (!range.getClientRects) return null\n  range.collapse(atStart)\n  let rects = range.getClientRects()\n  if (rects.length <= 0) {\n    cords.value.x = 0\n    cords.value.y = 0\n  } else {\n    let rect = rects[0]\n    cords.value.start = sel.anchorOffset\n    cords.value.end = sel.focusOffset\n    cords.value.x = rect.x\n    cords.value.y = rect.y + rects[0]?.height\n  }\n}\n\nasync function getSelectOptions(event: any) {\n  if (searchTerm.value === '') {\n    matches.value = []\n    return []\n  }\n  let ontologiesExists = searchTerm.value.indexOf(':')\n  let ontologies = ''\n  let term = null\n  if (ontologiesExists < 0) {\n    ontologies = props.ontologies\n    term = searchTerm.value\n  } else {\n    term = searchTerm.value.split(':')[1]\n    ontologies = searchTerm.value.split(':')[0]\n  }\n\n  const ele = event.currentTarget\n  const previousController = pendingRequests.get(ele)\n\n  if (previousController) {\n    previousController.abort()\n  }\n\n  const controller = new AbortController()\n  pendingRequests.set(ele, controller)\n\n  const url = 'https://service.tib.eu/ts4tib/api/select?q='\n  const queries = encodeURI(\n    '&ontolog-y=' +\n      ontologies +\n      '&fieldList=iri,label,short_form,obo_id,ontology_name,ontology_prefix,description,type&obsoletes=false&local=false&rows=10'\n  )\n\n  loading.value = true\n\n  let response = (await fetch(`${url}${term}${queries}`, { signal: controller.signal })).json()\n\n  response.then((body) => {\n    pendingRequests.delete(ele)\n    matches.value = body.response.docs\n    loading.value = false\n  })\n}\n</script>\n<style scoped>\n.o_annotate_textarea {\n  min-height: 100px;\n  width: 100%;\n  border: 1px solid #d7d7d7;\n  box-shadow: none;\n  box-sizing: border_box;\n  padding: 12px 10px 12px 10px;\n  resize: none;\n}\n\n#mainInput {\n  background: transparent;\n  color: black;\n  opacity: 1;\n}\n\n.contextmenu {\n  position: absolute;\n  top: 0;\n  right: 0;\n  background: #ffffff;\n  color: #000;\n  border: 1px solid #f1f1f2;\n  width: 15rem;\n  max-width: calc(100vw _ 2rem);\n  max-height: 300px;\n  overflow-y: scroll;\n  overflow-x: hidden;\n  z-index: 100;\n  box-shadow: 0 0.5rem 1.5rem rgba(0, 0, 0, 0.2);\n  border-radius: 0.2rem;\n}\n\n.contextmenu .contextmenu_item {\n  border-bottom: 1px solid #c3c3c3;\n  padding: 8px;\n}\n\n.contextmenu .contextmenu_item:hover {\n  cursor: pointer;\n  background-color: #f1f1f2;\n}\n\n.contextmenu .contextmenu_item p {\n  margin: 0;\n  padding: 0;\n}\n\n.contextmenu .contextmenu_item .iri {\n  margin: 0;\n  width: 15rem;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  word-wrap: break_word;\n  padding: 0;\n}\n</style>\n","<template>\n  <div>\n    <label v-if=\"label\">{{ label }}</label>\n    <div>\n      <textarea\n        v-model=\"autocompleteText\"\n        id=\"autocomplete\"\n        type=\"text\"\n        class=\"o_annotate_textarea\"\n        line=\"10\"\n      ></textarea>\n      <textarea\n        id=\"mainInput\"\n        @keyup.stop=\"processInput\"\n        @change.stop=\"propogateData\"\n        v-model=\"inputText\"\n        type=\"text\"\n        class=\"o_annotate_textarea\"\n      ></textarea>\n    </div>\n    <p v-if=\"info && matches.length == 0\">{{ info }}</p>\n    <span v-if=\"currentMatchedOntologyTerm\">\n      <code>\n        <pre>{{ currentMatchedOntologyTermValue }}</pre>\n      </code>\n    </span>\n    <span v-if=\"annotatedTerms && annotatedTerms.length > 0\">\n      <code>\n        <pre>{{ bratOnto }}</pre>\n      </code>\n    </span>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { ref, computed } from 'vue'\n\nconst props = defineProps({\n  label: {\n    type: String,\n    required: false,\n    default: ''\n  },\n  info: {\n    type: String,\n    required: false,\n    default: ''\n  },\n  placeholder: {\n    type: String,\n    required: false,\n    default: ''\n  },\n  format: {\n    type: String,\n    required: false,\n    default: 'text'\n  }\n})\n\nlet inputText = ref('')\nlet autocompleteText = ref('')\nlet typingTimer = -1\nlet doneTypingInterval = 100\nlet currentMatchIndex = 0\nlet matches = ref([])\nlet lastW = ''\nlet last2W = ''\nlet queryLastTwoTerms = false\nlet annotatedTerms: any = ref([])\nlet annotatedTermsJSON: any = ref([])\nlet currentMatchedOntologyTerm: any = ref(null)\n\nconst currentMatchedOntologyTermValue = computed(() => {\n  if (!currentMatchedOntologyTerm.value) {\n    return null\n  }\n\n  return currentMatchedOntologyTerm.value\n    ? currentMatchedOntologyTerm.value['label'] +\n        '\\t' +\n        currentMatchedOntologyTerm.value['ontology_prefix'] +\n        '\\t' +\n        currentMatchedOntologyTerm.value['iri'] +\n        '\\t' +\n        currentMatchedOntologyTerm.value['type']\n    : ''\n})\n\nconst emit = defineEmits(['change'])\n\nconst bratOnto = computed(() => {\n  if (!inputText.value) {\n    return null\n  }\n  if (props.format && props.format == 'json') {\n    return {\n      text: inputText.value,\n      ontology: annotatedTerms.value\n    }\n  } else {\n    return inputText.value + '\\n$$$$\\n' + annotatedTerms.value.join('\\n')\n  }\n})\n\nasync function processInput(e: any) {\n  if (inputText.value == '') {\n    autocompleteText.value = ''\n    return\n  }\n\n  if (typingTimer > -1) {\n    clearTimeout(typingTimer)\n  }\n\n  if (e.key == 'ArrowDown') {\n    if (currentMatchIndex == 9) {\n      reset()\n    }\n    currentMatchIndex += 1\n    updateAutoCompleteText()\n    e.preventDefault()\n    return\n  } else if (e.key == 'ArrowUp') {\n    if (currentMatchIndex == 0) {\n      reset()\n    }\n    currentMatchIndex -= 1\n    updateAutoCompleteText()\n    e.preventDefault()\n    return\n  } else if (e.key == 'ArrowRight') {\n    e.preventDefault()\n    tabkeyPressed()\n  } else {\n    if (inputText.value) {\n      let wordsArray = inputText.value.split(' ')\n      if (wordsArray.length > 1) {\n        lastW = wordsArray.slice(-1)[0]\n        last2W = wordsArray.slice(-2).join(' ')\n      } else {\n        lastW = wordsArray[0]\n        last2W = lastW\n      }\n      if (lastW == '') {\n        queryLastTwoTerms = false\n        currentMatchedOntologyTerm.value = null\n        autocompleteText.value = inputText.value\n      }\n      if (queryLastTwoTerms) {\n        lastW = last2W\n      }\n      searchDB()\n    }\n  }\n}\n\nfunction propogateData() {\n  emit('change', bratOnto.value)\n}\n\nfunction reset() {\n  queryLastTwoTerms = true\n  lastW = last2W\n  currentMatchIndex = 0\n  searchDB()\n}\n\nfunction searchDB() {\n  typingTimer = setTimeout(function () {\n    CallMLDataSetAPI()\n  }, doneTypingInterval)\n}\n\nfunction tabkeyPressed() {\n  inputText.value = autocompleteText.value\n  annotatedTerms.value.push(currentMatchedOntologyTermValue.value)\n  annotatedTermsJSON.value.push(currentMatchedOntologyTerm.value)\n}\n\nasync function CallMLDataSetAPI() {\n  const url = 'https://service.tib.eu/ts4tib/api/select?q='\n  const queries = encodeURI('&obsoletes=false&local=false&rows=10')\n\n  let response = (await fetch(`${url}${lastW}${queries}`)).json()\n  response.then((body) => {\n    matches.value = body.response.docs\n    if (matches.value.length > 0) {\n      currentMatchIndex = 0\n      updateAutoCompleteText()\n    }\n  })\n}\n\nfunction updateAutoCompleteText() {\n  let matchedTerm = ''\n  currentMatchedOntologyTerm.value = matches.value[currentMatchIndex]\n  matchedTerm = currentMatchedOntologyTerm.value['label']\n  let term = matchedTerm.toLowerCase().replace(lastW, '')\n  if (term != undefined) {\n    autocompleteText.value = inputText.value + term\n  }\n}\n</script>\n<style scoped>\n.o_annotate_textarea {\n  min-height: 100px;\n  width: 100%;\n  border: 1px solid #d7d7d7;\n  box-shadow: none;\n  box-sizing: border-box;\n  padding: 12px 10px 12px 10px;\n  resize: none;\n}\n\n#mainInput {\n  background: transparent;\n  color: black;\n  opacity: 100;\n}\n\n#autocomplete {\n  opacity: 0.6;\n  background: transparent;\n  position: absolute;\n  box-sizing: border-box;\n  cursor: text;\n  pointer-events: none;\n  color: black;\n  opacity: 0.6;\n  background: transparent;\n}\n</style>\n","import { defineCustomElement } from 'vue'\nimport VueOntologyTermAnnotation from './components/ontology-term-annotation.ce.vue'\nimport VueOntologyTextAnnotation from './components/ontology-text-annotation.ce.vue'\nimport VueOntologyAutoComplete from './components/ontology-autocomplete.ce.vue'\nimport VueOntologyAnnotate from './components/ontology-annotate.ce.vue'\nimport VueOntologyCompose from './components/ontology-compose.ce.vue'\n\nexport const OntologyTermAnnotation = defineCustomElement(VueOntologyTermAnnotation)\nexport const OntologyTextAnnotation = defineCustomElement(VueOntologyTextAnnotation)\nexport const OntologyAutoComplete = defineCustomElement(VueOntologyAutoComplete)\nexport const OntologyAnnotate = defineCustomElement(VueOntologyAnnotate)\nexport const OntologyCompose = defineCustomElement(VueOntologyCompose)\n\nif (typeof window !== 'undefined') {\n  let customElementRegistry = window.customElements\n  customElementRegistry.define('ontology-term-annotation', OntologyTermAnnotation)\n  customElementRegistry.define('ontology-text-annotation', OntologyTextAnnotation)\n  customElementRegistry.define('ontology-autocomplete', OntologyAutoComplete)\n  customElementRegistry.define('ontology-annotate', OntologyAnnotate)\n  customElementRegistry.define('ontology-compose', OntologyCompose)\n}\n"],"names":["term","computed","props","iri","source","content","contentHTML","_content","annotatedTerms","terms","annotation","annotationDetails","indexes","_term","selectTerm","selectedTerm","searchTerm","emit","selectedValue","matches","ref","watch","newValue","oldValue","composeOntologyObject","onMounted","getSelectOptions","ontologiesExists","ontologies","url","queries","body","highlight","match","data","concat","reference","o_annotate_textarea","hasShadowDOM","cords","loading","selectedTerms","reactive","pendingRequests","context_menu_styling","bratOnto","t","el","onInput","e","doc","_cords","checkSelection","selection","getSelectionCoords","sel","atStart","range","rects","rect","event","ele","previousController","controller","inputText","autocompleteText","typingTimer","doneTypingInterval","currentMatchIndex","lastW","last2W","queryLastTwoTerms","annotatedTermsJSON","currentMatchedOntologyTerm","currentMatchedOntologyTermValue","processInput","reset","updateAutoCompleteText","tabkeyPressed","wordsArray","searchDB","propogateData","CallMLDataSetAPI","matchedTerm","OntologyTermAnnotation","defineCustomElement","VueOntologyTermAnnotation","OntologyTextAnnotation","VueOntologyTextAnnotation","OntologyAutoComplete","VueOntologyAutoComplete","OntologyAnnotate","VueOntologyAnnotate","OntologyCompose","VueOntologyCompose","customElementRegistry"],"mappings":"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"}